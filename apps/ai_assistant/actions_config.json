{
  "actions": {
    "create_supplier": {
      "name": "Créer un fournisseur",
      "description": "Crée un nouveau fournisseur dans le système",
      "icon": "business",
      "category": "suppliers",
      "required_params": ["name"],
      "optional_params": ["contact_person", "email", "phone", "address", "city", "website", "notes"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Fournisseur '{name}' créé avec succès !"
        },
        {
          "type": "redirect_option",
          "url": "/suppliers/{id}",
          "label": "Voir le fournisseur"
        },
        {
          "type": "quick_action",
          "label": "Modifier",
          "action": "edit_supplier",
          "params": {"id": "{id}"}
        },
        {
          "type": "refresh_data",
          "target": "suppliers_list"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait les informations du fournisseur : nom (obligatoire), contact, email, téléphone, adresse, site web",
        "confirm": "Voulez-vous créer le fournisseur '{name}' avec ces informations ?"
      }
    },

    "create_invoice": {
      "name": "Créer une facture",
      "description": "Crée une nouvelle facture",
      "icon": "receipt",
      "category": "invoices",
      "required_params": ["client_name", "description"],
      "optional_params": ["amount", "due_date", "items", "tax_rate"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Facture #{invoice_number} créée avec succès !"
        },
        {
          "type": "redirect_option",
          "url": "/invoices/{id}",
          "label": "Voir la facture"
        },
        {
          "type": "quick_action",
          "label": "Ajouter des articles",
          "action": "add_invoice_items",
          "params": {"invoice_id": "{id}"}
        },
        {
          "type": "quick_action",
          "label": "Envoyer au client",
          "action": "send_invoice",
          "params": {"invoice_id": "{id}"}
        },
        {
          "type": "file_action",
          "label": "Télécharger PDF",
          "url": "/api/v1/invoices/{id}/pdf/"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait : nom du client (obligatoire), description, montant, date d'échéance, articles si mentionnés",
        "confirm": "Créer une facture pour '{client_name}' de {amount}€ ?"
      }
    },

    "create_purchase_order": {
      "name": "Créer un bon de commande",
      "description": "Crée un nouveau bon de commande",
      "icon": "shopping_cart",
      "category": "purchase_orders",
      "required_params": ["supplier_name", "description"],
      "optional_params": ["total_amount", "delivery_date", "items", "notes"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Bon de commande #{po_number} créé avec succès !"
        },
        {
          "type": "redirect_option",
          "url": "/purchase-orders/{id}",
          "label": "Voir le bon de commande"
        },
        {
          "type": "quick_action",
          "label": "Ajouter des articles",
          "action": "add_po_items",
          "params": {"po_id": "{id}"}
        },
        {
          "type": "quick_action",
          "label": "Envoyer au fournisseur",
          "action": "send_purchase_order",
          "params": {"po_id": "{id}"}
        }
      ],
      "ai_prompts": {
        "extract": "Extrait : nom du fournisseur, description, montant total, date de livraison, articles",
        "confirm": "Créer un BC pour '{supplier_name}' de {total_amount}€ ?"
      }
    },

    "search_supplier": {
      "name": "Rechercher un fournisseur",
      "description": "Recherche des fournisseurs par nom, email ou contact",
      "icon": "search",
      "category": "suppliers",
      "required_params": ["query"],
      "optional_params": ["status", "limit"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "supplier_list"
        },
        {
          "type": "quick_actions_per_result",
          "actions": ["view_supplier", "edit_supplier", "create_po_with_supplier"]
        }
      ],
      "ai_prompts": {
        "extract": "Détermine les critères de recherche : nom, email, ou personne de contact",
        "results": "Voici les fournisseurs trouvés correspondant à '{query}'"
      }
    },

    "search_client": {
      "name": "Rechercher un client",
      "description": "Recherche des clients par nom, email ou contact",
      "icon": "search",
      "category": "clients",
      "required_params": ["query"],
      "optional_params": ["limit"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "client_list"
        }
      ],
      "ai_prompts": {
        "extract": "Détermine les critères de recherche : nom, email, ou personne de contact",
        "results": "Voici les clients trouvés correspondant à '{query}'"
      }
    },

    "list_clients": {
      "name": "Lister les clients",
      "description": "Liste tous les clients actifs",
      "icon": "list",
      "category": "clients",
      "required_params": [],
      "optional_params": ["limit"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "client_list"
        }
      ]
    },

    "create_client": {
      "name": "Créer un client",
      "description": "Crée un nouveau client dans le système",
      "icon": "person_add",
      "category": "clients",
      "required_params": ["name"],
      "optional_params": ["email", "phone", "address", "contact_person", "payment_terms", "tax_id"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Client '{name}' créé avec succès !"
        },
        {
          "type": "redirect_option",
          "url": "/clients/{id}",
          "label": "Voir le client"
        },
        {
          "type": "quick_action",
          "label": "Créer une facture",
          "action": "create_invoice",
          "params": {"client_name": "{name}"}
        },
        {
          "type": "refresh_data",
          "target": "clients_list"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait les informations du client : nom (obligatoire), email, téléphone, adresse, personne de contact, conditions de paiement",
        "confirm": "Voulez-vous créer le client '{name}' avec ces informations ?"
      }
    },

    "search_invoice": {
      "name": "Rechercher une facture",
      "description": "Recherche des factures",
      "icon": "search",
      "category": "invoices",
      "required_params": [],
      "optional_params": ["query", "status", "client_name", "limit"]
    },

    "search_purchase_order": {
      "name": "Rechercher un bon de commande",
      "description": "Recherche des bons de commande",
      "icon": "search",
      "category": "purchase_orders",
      "required_params": [],
      "optional_params": ["query", "status", "supplier_name", "limit"]
    },

    "get_latest_invoice": {
      "name": "Obtenir les dernières factures",
      "description": "Récupère les factures récentes",
      "icon": "history",
      "category": "invoices",
      "required_params": [],
      "optional_params": ["limit", "client_name"]
    },

    "add_po_items": {
      "name": "Ajouter des articles au BC",
      "description": "Ajoute des articles à un bon de commande existant",
      "icon": "add_shopping_cart",
      "category": "purchase_orders",
      "required_params": ["po_number", "items"],
      "success_actions": [
        {
          "type": "notification",
          "message": "{count} article(s) ajouté(s) au bon de commande"
        },
        {
          "type": "redirect_option",
          "url": "/purchase-orders/{po_id}",
          "label": "Voir le bon de commande mis à jour"
        }
      ]
    },

    "add_invoice_items": {
      "name": "Ajouter des articles à la facture",
      "description": "Ajoute des articles/services à une facture existante",
      "icon": "add_shopping_cart",
      "category": "invoices",
      "required_params": ["invoice_id", "items"],
      "success_actions": [
        {
          "type": "notification",
          "message": "{count} article(s) ajouté(s) à la facture"
        },
        {
          "type": "redirect_option",
          "url": "/invoices/{invoice_id}",
          "label": "Voir la facture mise à jour"
        },
        {
          "type": "refresh_data",
          "target": "invoice_details"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait les articles : description, quantité, prix unitaire pour chaque article",
        "confirm": "Ajouter {count} article(s) à la facture ?"
      }
    },

    "send_invoice": {
      "name": "Envoyer une facture",
      "description": "Envoie une facture par email au client",
      "icon": "email",
      "category": "invoices",
      "required_params": ["invoice_id"],
      "optional_params": ["email_message", "send_copy"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Facture envoyée avec succès au client"
        },
        {
          "type": "update_status",
          "target": "invoice",
          "status": "sent"
        }
      ]
    },

    "get_stats": {
      "name": "Afficher les statistiques",
      "description": "Affiche les statistiques de l'entreprise",
      "icon": "analytics",
      "category": "dashboard",
      "required_params": [],
      "optional_params": ["period", "category"],
      "success_actions": [
        {
          "type": "display_stats",
          "template": "dashboard_stats"
        },
        {
          "type": "chart_display",
          "charts": ["revenue_chart", "suppliers_chart"]
        }
      ],
      "ai_prompts": {
        "extract": "Détermine la période : aujourd'hui, cette semaine, ce mois, cette année",
        "results": "Voici les statistiques pour {period}"
      }
    },

    "search_entity": {
      "name": "Rechercher une entité",
      "description": "Recherche des clients, fournisseurs ou produits avec correspondance floue qui tolère les fautes d'orthographe",
      "icon": "search",
      "category": "search",
      "required_params": ["entity_type", "query"],
      "optional_params": ["min_score"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "search_results"
        }
      ],
      "ai_prompts": {
        "extract": "Type d'entité : client, supplier, ou product. Requête de recherche (peut contenir des fautes). Score minimum optionnel (0.0-1.0, défaut: 0.60)",
        "results": "Résultats de recherche pour '{query}' ({count} trouvé(s))"
      }
    },

    "send_purchase_order": {
      "name": "Envoyer un bon de commande",
      "description": "Envoie un bon de commande par email au fournisseur",
      "icon": "send",
      "category": "purchase_orders",
      "required_params": ["po_number"],
      "optional_params": ["recipient_email"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Bon de commande envoyé avec succès au fournisseur"
        }
      ]
    },

    "update_supplier": {
      "name": "Modifier un fournisseur",
      "description": "Modifie les informations d'un fournisseur existant",
      "icon": "edit",
      "category": "suppliers",
      "required_params": ["supplier_name"],
      "optional_params": ["name", "email", "phone", "address", "city", "status"]
    },

    "update_invoice": {
      "name": "Modifier une facture",
      "description": "Modifie les informations d'une facture existante",
      "icon": "edit",
      "category": "invoices",
      "required_params": ["invoice_number"],
      "optional_params": ["title", "description", "status", "due_date"]
    },

    "update_purchase_order": {
      "name": "Modifier un bon de commande",
      "description": "Modifie les informations d'un BC existant",
      "icon": "edit",
      "category": "purchase_orders",
      "required_params": ["po_number"],
      "optional_params": ["description", "status", "delivery_date", "notes"]
    },

    "update_client": {
      "name": "Modifier un client",
      "description": "Modifie les informations d'un client existant",
      "icon": "edit",
      "category": "clients",
      "required_params": ["client_name"],
      "optional_params": ["name", "email", "phone", "address", "contact_person"]
    },

    "delete_supplier": {
      "name": "Supprimer un fournisseur",
      "description": "Désactive un fournisseur (soft delete)",
      "icon": "delete",
      "category": "suppliers",
      "required_params": ["supplier_name"]
    },

    "delete_invoice": {
      "name": "Supprimer une facture",
      "description": "Supprime une facture non payée",
      "icon": "delete",
      "category": "invoices",
      "required_params": ["invoice_number"]
    },

    "delete_purchase_order": {
      "name": "Supprimer un bon de commande",
      "description": "Supprime un BC non reçu",
      "icon": "delete",
      "category": "purchase_orders",
      "required_params": ["po_number"]
    },

    "delete_client": {
      "name": "Supprimer un client",
      "description": "Désactive un client (soft delete)",
      "icon": "delete",
      "category": "clients",
      "required_params": ["client_name"]
    },

    "create_product": {
      "name": "Créer un produit",
      "description": "Crée un nouveau produit (service ou physique)",
      "icon": "inventory",
      "category": "products",
      "required_params": ["name"],
      "optional_params": ["reference", "barcode", "product_type", "description", "price", "cost_price", "stock_quantity", "low_stock_threshold", "supplier_reference"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Produit '{name}' créé avec succès !"
        },
        {
          "type": "redirect_option",
          "url": "/products/{id}",
          "label": "Voir le produit"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait les informations du produit : nom (obligatoire), référence, type (service/physique), description, prix",
        "confirm": "Créer le produit '{name}' ?"
      }
    },

    "search_product": {
      "name": "Rechercher un produit",
      "description": "Recherche des produits par nom, référence ou code-barres",
      "icon": "search",
      "category": "products",
      "required_params": ["query"],
      "optional_params": ["product_type", "limit"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "product_list"
        },
        {
          "type": "quick_actions_per_result",
          "actions": ["view_product", "edit_product", "adjust_stock"]
        }
      ],
      "ai_prompts": {
        "extract": "Détermine les critères de recherche : nom, référence ou code-barres",
        "results": "Voici les produits trouvés correspondant à '{query}'"
      }
    },

    "update_product": {
      "name": "Modifier un produit",
      "description": "Modifie les informations d'un produit existant",
      "icon": "edit",
      "category": "products",
      "required_params": ["product_name"],
      "optional_params": ["name", "reference", "barcode", "description", "price", "cost_price", "stock_quantity", "low_stock_threshold"]
    },

    "delete_product": {
      "name": "Supprimer un produit",
      "description": "Supprime un produit non utilisé dans des factures/BCs",
      "icon": "delete",
      "category": "products",
      "required_params": ["product_name"]
    },

    "adjust_stock": {
      "name": "Ajuster le stock",
      "description": "Ajoute ou retire du stock pour un produit physique",
      "icon": "inventory_2",
      "category": "stock",
      "required_params": ["product_name", "adjustment_type", "quantity"],
      "optional_params": ["reason", "product_id", "product_reference"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Stock ajusté: {previous_stock} → {new_stock}"
        },
        {
          "type": "redirect_option",
          "url": "/products/{id}",
          "label": "Voir le produit"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait: nom du produit, type d'ajustement (ajouter/retirer), quantité, raison optionnelle",
        "confirm": "Ajuster le stock de '{product_name}' : {adjustment_type} {quantity} unité(s) ?"
      }
    },

    "get_stock_alerts": {
      "name": "Consulter les alertes de stock",
      "description": "Affiche les produits en rupture ou avec stock bas",
      "icon": "warning",
      "category": "stock",
      "required_params": [],
      "optional_params": ["alert_type"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "stock_alerts_list"
        },
        {
          "type": "quick_actions_per_result",
          "actions": ["view_product", "adjust_stock", "create_purchase_order"]
        }
      ],
      "ai_prompts": {
        "extract": "Type d'alerte: all (toutes), low_stock (stock bas uniquement), out_of_stock (rupture uniquement)",
        "results": "Voici les alertes de stock"
      }
    },

    "generate_report": {
      "name": "Générer un rapport",
      "description": "Génère un rapport PDF, Excel ou CSV",
      "icon": "assessment",
      "category": "reports",
      "required_params": ["report_type"],
      "optional_params": ["format", "date_start", "date_end", "supplier_id", "client_id"],
      "success_actions": [
        {
          "type": "notification",
          "message": "Rapport généré avec succès"
        },
        {
          "type": "download_option",
          "label": "Télécharger le rapport",
          "url": "{file_path}"
        }
      ],
      "ai_prompts": {
        "extract": "Extrait: type de rapport (supplier, invoice, purchase_order, etc.), format (pdf/xlsx/csv), dates optionnelles",
        "confirm": "Générer un rapport {report_type} au format {format} ?"
      }
    },

    "search_report": {
      "name": "Rechercher des rapports",
      "description": "Recherche parmi les rapports générés",
      "icon": "search",
      "category": "reports",
      "required_params": [],
      "optional_params": ["report_type", "format", "status", "limit"],
      "success_actions": [
        {
          "type": "display_results",
          "template": "reports_list"
        },
        {
          "type": "quick_actions_per_result",
          "actions": ["download_report", "view_report", "delete_report"]
        }
      ],
      "ai_prompts": {
        "extract": "Filtres optionnels: type de rapport, format, statut",
        "results": "Voici les rapports trouvés"
      }
    },

    "get_report_status": {
      "name": "Vérifier le statut d'un rapport",
      "description": "Vérifie le statut de génération d'un rapport",
      "icon": "hourglass_empty",
      "category": "reports",
      "required_params": ["report_id"],
      "optional_params": []
    },

    "delete_report": {
      "name": "Supprimer un rapport",
      "description": "Supprime un rapport généré",
      "icon": "delete",
      "category": "reports",
      "required_params": ["report_id"],
      "optional_params": []
    },

    "undo_last_action": {
      "name": "Annuler la dernière action",
      "description": "Annule la dernière action effectuée",
      "icon": "undo",
      "category": "dashboard",
      "required_params": [],
      "optional_params": []
    }
  },

  "workflows": {
    "new_client_onboarding": {
      "name": "Intégration nouveau client",
      "steps": [
        {"action": "create_client", "required": true},
        {"action": "create_invoice", "optional": true},
        {"action": "send_invoice", "optional": true}
      ]
    },

    "supplier_management": {
      "name": "Gestion complète fournisseur",
      "steps": [
        {"action": "create_supplier", "required": true},
        {"action": "create_purchase_order", "optional": true},
        {"action": "send_purchase_order", "optional": true}
      ]
    }
  },

  "ui_animations": {
    "thinking": {
      "type": "typing_dots",
      "messages": [
        "Je réfléchis...",
        "Analyse en cours...",
        "Traitement de votre demande...",
        "Recherche des informations..."
      ]
    },
    "processing": {
      "type": "progress_bar",
      "steps": [
        "Validation des données",
        "Création de l'entité",
        "Mise à jour de la base",
        "Finalisation"
      ]
    },
    "success": {
      "type": "celebration",
      "duration": 2000
    }
  },

  "quick_responses": {
    "suppliers": [
      "Créer un nouveau fournisseur",
      "Rechercher un fournisseur",
      "Voir les statistiques fournisseurs",
      "Exporter la liste des fournisseurs"
    ],
    "invoices": [
      "Créer une nouvelle facture",
      "Voir les factures impayées",
      "Envoyer des relances",
      "Statistiques de revenus"
    ],
    "purchase_orders": [
      "Créer un bon de commande",
      "Voir les commandes en attente",
      "Suivre les livraisons",
      "Statistiques d'achats"
    ]
  }
}