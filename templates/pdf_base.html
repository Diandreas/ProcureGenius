{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:'fr' }}">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% trans "Document" %}{% endblock %}</title>
    <style>
        @page {
            size: A4;
            margin: 10mm;

            /* Compact margin */
            @bottom-center {
                content: "Page " counter(page) " / " counter(pages);
                font-family: 'Helvetica', 'Arial', sans-serif;
                font-size: 8pt;
                color: #9ca3af;
            }
        }

        body {
            font-family: 'Helvetica', 'Arial', sans-serif;
            font-size: 9pt;
            /* Compact font size */
            line-height: 1.3;
            color: #1f2937;
            margin: 0;
            padding: 0;
        }

        /* Unified Header */
        .header {
            display: table;
            width: 100%;
            margin-bottom: 10px;
            padding-bottom: 8px;

            border-bottom: 2px solid #2563eb;
        }

        .header-left {
            width: 60%;
            display: table-cell;
            vertical-align: middle;
        }

        .header-right {
            width: 40%;
            display: table-cell;
            text-align: right;
            vertical-align: middle;
        }

        .logo img {
            max-height: 60px;
            width: auto;
        }

        .company-name {
            font-size: 14pt;
            font-weight: 800;

            color: #2563eb;
            margin-bottom: 0;
        }

        .company-details {
            font-size: 8pt;
            color: #4b5563;
            line-height: 1.25;
        }

        /* Common Utilities */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        .text-right {
            text-align: right;
        }

        .text-center {
            text-align: center;
        }

        .text-bold {
            font-weight: 700;
        }

        .uppercase {
            text-transform: uppercase;
        }

        .text-brand {
            color: #2563eb;
        }

        /* Unified Footer */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 8px 0;
            border-top: 1px solid #e5e7eb;
            display: table;
            width: 100%;
            background: white;
        }

        .footer-left {
            display: table-cell;
            width: 80%;
            font-size: 7pt;
            color: #9ca3af;
            line-height: 1.2;
        }

        .footer-right {
            display: table-cell;
            width: 20%;
            text-align: right;
            vertical-align: bottom;
        }

        /* Compact Tables */
        .compact-table th {
            background-color: #2563eb;
            color: white;
            padding: 6px 8px;
            font-size: 8pt;
            text-transform: uppercase;
            text-align: left;
        }

        .compact-table td {
            padding: 6px 8px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 9pt;
        }

        /* Content Blocks */
        .doc-title {
            font-size: 12pt;
            font-weight: 800;
            text-transform: uppercase;

            color: #2563eb;
            margin-bottom: 10px;
            letter-spacing: 0.5px;
        }

        .info-grid {
            display: table;
            width: 100%;
            margin-bottom: 15px;
            background-color: #f9fafb;
            border-radius: 4px;
            padding: 10px;
        }

        .info-col {
            display: table-cell;
            vertical-align: top;
        }

        .info-label {
            font-size: 7pt;
            text-transform: uppercase;
            color: #6b7280;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .info-value {
            font-size: 9pt;
            font-weight: 700;
            color: #111827;
            margin-bottom: 6px;
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Unified Header -->
    <div class="header">
        <div class="header-left">
            <div class="logo">
                {% if logo_base64 %}
                <img src="{{ logo_base64 }}" alt="Logo">
                {% else %}
                <div class="company-name">{{ organization.name|default:"PROGÃ‰NIE" }}</div>
                {% endif %}
            </div>
        </div>
        <div class="header-right">
            <div class="company-details">
                {% if organization.name %}<strong>{{ organization.name }}</strong><br>{% endif %}
                {% if organization.address %}{{ organization.address|striptags }}<br>{% endif %}
                {% if organization.phone %}{{ organization.phone }}{% endif %}
                {% if organization.email %} | {{ organization.email }}{% endif %}
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        {% block content %}{% endblock %}
    </div>

    <!-- Unified Footer -->
    <div class="footer">
        <div class="footer-left">
            {% if organization.tax_region == 'cameroon' or organization.tax_region == 'ohada' %}
            NIU: {{ organization.niu|default:"-" }} | RC: {{
            organization.rc_number|default:organization.rccm_number|default:"-" }}
            {% elif organization.tax_region == 'canada' %}
            NEQ: {{ organization.neq|default:"-" }} | GST: {{ organization.gst_number|default:"-" }} | QST: {{
            organization.qst_number|default:"-" }}
            {% endif %}
            <br>
            {{ organization.name }} - {{ organization.tagline|default:"" }}
        </div>
        <div class="footer-right">
            {% if qr_code_base64 %}
            <img src="{{ qr_code_base64 }}" style="width: 40px; height: 40px;" alt="QR">
            {% endif %}
        </div>
    </div>
</body>

</html>